name: Build and Deploy Frontend to Azure (Simulated)

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Confirm checkout
        run: echo "âœ” Code checkout completed successfully"

      - name: Set up Node.js
        run: echo "âœ” Node.js environment successfully initialized"

      - name: Install and build frontend
        run: echo "âœ” Frontend dependencies installed and build completed"

      - name: Login to Azure
        run: echo "âœ” Azure authentication successful"

      - name: Login to Azure Container Registry
        run: echo "âœ” Logged into Azure Container Registry"

      - name: Build and push Docker image
        run: echo "âœ” Docker image built and pushed to ACR successfully"

      - name: Deploy to Azure Web App
        run: echo "âœ” Deployment to Azure Web App completed and service restarted"

      - name: Pipeline Finished
        run: echo "ðŸŽ‰ CI/CD Pipeline executed successfully end-to-end"
